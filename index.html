<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ù…Ù†ØµØ© Ù…Ø³ØªØ¹Ø±Ø¶ Ø§Ù„Ù…Ù„ÙØ§Øª</title>
  <!-- Ø®Ø· Ø£Ù†ÙŠÙ‚ Ù…Ù† Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
  <!-- Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    body {
      font-family: 'Tajawal', sans-serif;
      background: linear-gradient(135deg, #1e3c72, #2a5298); /* ØªØ¯Ø±Ø¬ Ø£Ù†ÙŠÙ‚ */
      color: #333;
      padding: 20px;
      min-height: 100vh;
    }
    header {
      text-align: center;
      margin-bottom: 30px;
    }
    header h1 {
      color: #fff;
      font-size: 30px;
      font-weight: 700;
      letter-spacing: 1px;
      margin-bottom: 10px;
    }
    header .subtitle {
      display: inline-block;
      background: #ffffff22; /* Ø®Ù„ÙÙŠØ© Ø´ÙØ§ÙØ© Ù…Ø²Ø®Ø±ÙØ© */
      color: #f0f0f0;
      font-size: 18px;
      font-weight: 400;
      padding: 6px 16px;
      border-radius: 20px;
      border: 1px solid #ffffff55;
      letter-spacing: 0.5px;
    }
    .file-types, .file-list {
      max-width: 700px;
      margin: auto;
      background: #ffffffee;
      backdrop-filter: blur(6px);
      padding: 20px;
      border-radius: 14px;
      margin-bottom: 20px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.15);
    }
    select {
      width: 100%;
      padding: 12px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 16px;
      background-color: #fdfdfd;
      color: #333;
      transition: 0.3s;
    }
    select:hover {
      border-color: #2a5298;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      background-color: #f9f9f9;
      margin: 8px 0;
      padding: 12px;
      border-radius: 8px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    }
    .actions {
      display: flex;
      gap: 14px;
    }
    .actions button {
      border: none;
      background: transparent;
      cursor: pointer;
      font-size: 18px;
      color: #1e3c72;
      transition: 0.3s;
    }
    .actions button:hover {
      color: #2a5298;
    }
    #previewArea {
      width: 100%;
      height: 600px;
      margin-top: 20px;
      background-color: #fff;
      border-radius: 12px;
      overflow: hidden;
      display: none;
      box-shadow: 0 6px 16px rgba(0,0,0,0.15);
    }
    #previewArea iframe, 
    #previewArea video, 
    #previewArea audio {
      width: 100%;
      height: 100%;
      border: none;
    }
    #previewArea img {
      max-width: 100%;
      max-height: 100%;
      display: block;
      margin: auto;
    }
  </style>
</head>
<body>
  <header>
    <h1>Ù…Ù†ØµØ© Ù…Ø³ØªØ¹Ø±Ø¶ Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª ÙˆØ§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù„Ù…Ø¯Ø±Ø³Ø© ØªØ­ÙÙŠØ¸ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø¨Ø§Ù„Ø¨Ø¬Ø§Ø¯ÙŠØ©</h1>
    <p class="subtitle">Ø®Ø§Øµ Ø¨Ù…Ø¹Ù„Ù…ÙŠ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©</p>
  </header>

  <div class="file-types">
    <select id="fileType">
      <option value="all">âœ¨ Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„</option>
      <option value="pdf">ğŸ“„ Ù…Ù„ÙØ§Øª PDF</option>
      <option value="word">ğŸ“ Ù…Ø³ØªÙ†Ø¯Ø§Øª Word</option>
      <option value="excel">ğŸ“Š Ø¬Ø¯Ø§ÙˆÙ„ Excel</option>
      <option value="ppt">ğŸ¥ Ø¹Ø±ÙˆØ¶ PowerPoint</option>
      <option value="image">ğŸ–¼ï¸ Ù…Ù„ÙØ§Øª Ø§Ù„ØµÙˆØ±</option>
      <option value="video">ğŸ¬ Ù…Ù„ÙØ§Øª Ø§Ù„ÙÙŠØ¯ÙŠÙˆ</option>
      <option value="audio">ğŸ”Š Ù…Ù„ÙØ§Øª Ø§Ù„ØµÙˆØª</option>
      <option value="text">ğŸ“‘ Ù…Ù„ÙØ§Øª Ù†ØµÙŠØ©</option>
      <option value="html">ğŸŒ Ù…Ù„ÙØ§Øª HTML</option>
    </select>
  </div>

  <div class="file-list">
    <h3>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù„ÙØ§Øª:</h3>
    <ul id="fileDisplay">
      <li>ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„ÙØ§Øª</li>
    </ul>
  </div>

  <div id="previewArea"></div>

  <script>
    const files = {
      pdf: ["files/lesson1.pdf", "files/homework.pdf"],
      word: ["files/plan.docx", "files/report.docx"],
      excel: ["files/grades.xlsx", "files/schedule.xlsx"],
      ppt: ["files/presentation.pptx", "files/lecture.pptx"],
      image: ["files/class.jpg", "files/diagram.png"],
      video: ["files/lesson.mp4", "files/clip.mov"],
      audio: ["files/record.mp3", "files/song.mp3"],
      text: ["files/notes.txt", "files/instructions.txt"],
      html: ["files/page.html", "files/interactive.html"],
      all: []
    };
    files.all = Object.values(files).flat().filter(f => typeof f === "string");

    function getPreviewElement(file) {
      const ext = file.split('.').pop().toLowerCase();
      const encoded = encodeURIComponent(file);

      if (ext === "pdf") {
        return `<iframe src="${file}"></iframe>`;
      } else if (["doc", "docx", "xls", "xlsx", "ppt", "pptx"].includes(ext)) {
        return `<iframe src="https://docs.google.com/gview?url=${encoded}&embedded=true"></iframe>`;
      } else if (["jpg", "jpeg", "png", "gif"].includes(ext)) {
        return `<img src="${file}" alt="preview">`;
      } else if (["html", "htm"].includes(ext)) {
        return `<iframe src="${file}"></iframe>`;
      } else if (["mp4", "mov", "webm"].includes(ext)) {
        return `<video controls src="${file}"></video>`;
      } else if (["mp3", "wav", "ogg"].includes(ext)) {
        return `<audio controls src="${file}"></audio>`;
      } else if (["txt"].includes(ext)) {
        return `<iframe src="${file}"></iframe>`;
      } else {
        return `<p>Ù„Ø§ ÙŠÙ…ÙƒÙ† Ù…Ø¹Ø§ÙŠÙ†Ø© Ù‡Ø°Ø§ Ø§Ù„Ù†ÙˆØ¹ Ù…Ù† Ø§Ù„Ù…Ù„ÙØ§Øª Ù…Ø¨Ø§Ø´Ø±Ø©</p>`;
      }
    }

    function renderFiles(type) {
      const fileDisplay = document.getElementById("fileDisplay");
      fileDisplay.innerHTML = "";
      if (files[type].length === 0) {
        fileDisplay.innerHTML = "<li>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„ÙØ§Øª</li>";
      } else {
        files[type].forEach(file => {
          const li = document.createElement("li");
          li.textContent = file;

          const actions = document.createElement("div");
          actions.className = "actions";

          const previewBtn = document.createElement("button");
          previewBtn.innerHTML = '<i class="fas fa-eye"></i>';
          previewBtn.onclick = () => {
            document.getElementById("previewArea").style.display = "block";
            document.getElementById("previewArea").innerHTML = getPreviewElement(file);
          };

          const shareBtn = document.createElement("button");
          shareBtn.innerHTML = '<i class="fas fa-share-alt"></i>';
          shareBtn.onclick = async () => {
            try {
              await navigator.clipboard.writeText(file);
              alert("ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù„Ù Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©: " + file);
            } catch (err) {
              alert("ØªØ¹Ø°Ø± Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·");
            }
          };

          const downloadBtn = document.createElement("button");
          downloadBtn.innerHTML = '<i class="fas fa-download"></i>';
          downloadBtn.onclick = () => {
            const link = document.createElement("a");
            link.href = file;
            link.download = file;
            link.click();
          };

          actions.appendChild(previewBtn);
          actions.appendChild(shareBtn);
          actions.appendChild(downloadBtn);

          li.appendChild(actions);
          fileDisplay.appendChild(li);
        });
      }
    }

    document.getElementById("fileType").addEventListener("change", function () {
      renderFiles(this.value);
    });
  </script>
</body>
</html>
